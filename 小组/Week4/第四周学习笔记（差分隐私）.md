# 第四周学习笔记（差分隐私）

## 差分隐私（一） Differential Privacy 简介

### 概念

为了不让攻击者得到某个人的隐私数据，对数据进行模糊处理（添加噪声），使准确数据不易被攻击者获得，但同时又不丢失数据的可用性。（双兔傍地走安能辨我是雄雌）



#### 公式1

![define](.\Pictures\define.png)

这个公式是怎么来的？首先引入KL-Divergence，即KL散度，是指当某分布q(x)被用于近似p(x)时的信息损失。

也就是说，q(x)能在多大程度上表达p(x)所包含的信息，KL散度越大，表达效果越差。



#### 公式2

![image-20240411193724782](.\Pictures\image-20240411193724782.png)

在上图公式中，p(x)即分子，q(x)为分母。

然后引入MAX-Divergence，并且使得它小于ε，然后进行移项，最后就得到定义中的公式，即第一张图的公式。

公式中，**ε**被称为**隐私预算**，ε越小，隐私保护越好，但是相对的加入的噪声越大，数据的可用性就越差

![image-20240411194519191](.\Pictures\image-20240411194519191.png)

### 差分隐私的松弛

上文中大致介绍了数学公式，但是算起来好像过于严格了，在实际应用中我们需要更多的隐私预算，因此就有了δ。



#### 公式3

![image-20240411195400874](.\Pictures\image-20240411195400874.png)

相较于公式2，分子多减了一个δ，也就是说，相对于公式2公式3具有更大的*宽容性*，变得更加松弛。

整体上的效果而言，**利用更少的ε（隐私预算），得到相同的噪声尺度**。



## 差分隐私（二）- 瑞丽熵和Renyi Divergence

这篇是真看不太懂，我只提取了与第一篇文章有关联的部分。

上文中提到了KL-Divergence（KL散度）与MAX-Divergence（Divergence用于衡量两个分布之间的差距）两种不同的散度

- KL散度是一种衡量两个概率分布之间的差异的方法，通常用于衡量两个概率分布之间的相似性或距离。
- MAX散度是一种非参数统计量，用于比较两个样本集合之间的差异。它衡量了两个样本集合的均值之间的差异。

### 差分隐私中的Divergence

当对Max-Divergence进行约束之后，就可以得到**差分隐私定义：**

![image-20240411203916022](.\Pictures\image-20240411203916022.png)



## 差分隐私（三）- 指数，高斯，拉普拉斯机制

需要处理的数据分为两类：

- ### **数值型：**一般使用**拉普拉斯**机制或**高斯**机制处理，对得到数值加随机噪声就可以实现差分隐私



1. #### **拉普拉斯机制**

**敏感度：**对于两个兄弟数据集（只相差一个元素）D与D' ，一个查询函数最大的变化范围，比如查询数量，敏感度就是1。敏感度是和查询函数相关的。



#### 公式4

![image-20240411205717640](.\Pictures\image-20240411205717640.png)

其中f(D)为查询函数，Y为拉普拉斯随机噪声，M(D)是最后返回的结果



![image-20240411205915993](.\Pictures\image-20240411205915993.png)

其中△f表示敏感度，ε表示隐私预算。

从定义中我们可以得知，隐私预算越小，噪声越大，结果可用性越好，隐私保护就越好。

**隐私预算和可用性成正比。**

![image-20240411194519191](.\Pictures\image-20240411194519191.png)



2. #### **高斯机制**

相对于拉普拉斯机制提供严格的(ε,0)——DP机制，高斯机制提供**松弛**的(ε,δ)——DP机制。



![image-20240411210739864](.\Pictures\image-20240411210739864.png)

注意这里是l2，而拉普拉斯机制中定义的是l1，两者有区别。



#### 理论：

![image-20240411211048608](.\Pictures\image-20240411211048608.png)

这比拉普拉斯机制复杂。

主要有三个参数：

- 高斯分布的标准差σ（决定噪声尺度）
- 隐私预算ε（和噪声呈负相关）
- 松弛项δ（只能容忍多少的概率违反**严格**的差分隐私）



- ### **非数值型：**一般使用**指数**机制，对每一种可能的输出都得到一个分数，归一化之后作为查询返回的概率值。

对于非数值型数据而言，它的输出是一组离散数据中的元素。

**整体思想：**当接收到一个查询之后，不是确定性的输出一个 结果，而是以**一定的概率值**返回结果，从而实现差分隐私。而这个**概率值**由**打分函数**决定（得分和输出概率成正比）



**敏感度：**![image-20240411211804133](.\Pictures\image-20240411211804133.png)



**指数机制理论：**

![image-20240411211845560](.\Pictures\image-20240411211845560.png)



## 差分隐私（四）- Composition Theorem 组成理论

Composition Theorem直接翻译的话就是组成原理，目的就是将一系列满足差分隐私的查询组合在一起，并且保证整体仍然满足差分隐私。





### Basic Composition Theorem（基本组成原理）

- #### Sequential Composition 串行组合

简单来讲：同一数据集，不同查询函数。

- #### Parallel Composition 并行组合

简单来讲：不同数据集，不同查询函数





### Advanced Composition （高级组成原理）

考虑攻击者可以自适应地影响数据库以及对应的查询机制，换句话说查询与查询之间是存在关联的。

- #### Navie Composition Throrem

- #### Strong Composition Throrem（强组合原理）

基本思想：用很小的δ换取很多的ε

- #### Moments Accountant

在计算的梯度中加入噪声。重点是如何在满足差分隐私的前提下加入噪声。

![image-20240411212833007](.\Pictures\image-20240411212833007.png)

![image-20240411212847340](.\Pictures\image-20240411212847340.png)

![image-20240411212819568](.\Pictures\image-20240411212819568.png)



在三种方法中，Moments Accountant在同样的花费的隐私预算最小。





